export type NormalizedPoint = { x: number; y: number };

// Helper for Victory Lane Rotation
const rotate = (p: NormalizedPoint, angle: number): NormalizedPoint => {
    const rad = (angle * Math.PI) / 180;
    const cos = Math.cos(rad);
    const sin = Math.sin(rad);
    const dx = p.x - 0.5;
    const dy = p.y - 0.5;
    return {
        x: parseFloat((0.5 + (dx * cos - dy * sin)).toFixed(4)),
        y: parseFloat((0.5 + (dx * sin + dy * cos)).toFixed(4))
    };
};

// --- VICTORY LANES (Home Stretch) ---
const VICTORY_RED = [
    { "x": 0.1100, "y": 0.475 }, { "x": 0.1800, "y": 0.475 }, { "x": 0.2300, "y": 0.475 },
    { "x": 0.2800, "y": 0.475 }, { "x": 0.3435, "y": 0.475 }, { "x": 0.3931, "y": 0.475 },
    { "x": 0.4400, "y": 0.475 } 
];
const VICTORY_GREEN = VICTORY_RED.map(p => rotate(p, 90));
const VICTORY_YELLOW = VICTORY_RED.map(p => rotate(p, 180));
const VICTORY_BLUE = VICTORY_RED.map(p => rotate(p, 270));

// =========================================================
// 1. RED RAW BOARD (Fixed to exactly 52 items)
// =========================================================
const RED_RAW_BOARD = [
    // Red Lane (0-4)
    { "x": 0.1505, "y": 0.420 }, { "x": 0.2106, "y": 0.420 }, { "x": 0.2674, "y": 0.420 }, { "x": 0.3255, "y": 0.420 }, { "x": 0.3813, "y": 0.420 },
    // Up towards Green (5-10)
    { "x": 0.440, "y": 0.3616 }, { "x": 0.440, "y": 0.3082 }, { "x": 0.440, "y": 0.2518 }, { "x": 0.440, "y": 0.1956 }, { "x": 0.440, "y": 0.1412 }, { "x": 0.440, "y": 0.0854 },
    // Top Turn (11-12)
    { "x": 0.4991, "y": 0.0869 }, { "x": 0.5570, "y": 0.0853 },
    // Down from Green (13-17) - 5 items
    { "x": 0.5570, "y": 0.1389 }, { "x": 0.5570, "y": 0.1969 }, { "x": 0.5570, "y": 0.2521 }, { "x": 0.5570, "y": 0.3079 }, { "x": 0.5570, "y": 0.364 },
    // Right towards Yellow (18-23)
    { "x": 0.6149, "y": 0.421 }, { "x": 0.6707, "y": 0.421 }, { "x": 0.7299, "y": 0.421 }, { "x": 0.789, "y": 0.421 }, { "x": 0.848, "y": 0.421 }, { "x": 0.9099, "y": 0.421 },
    // Right Turn (24-25)
    { "x": 0.9099, "y": 0.4770 }, { "x": 0.9099, "y": 0.5348 },
    // Left from Yellow (26-30)
    { "x": 0.8484, "y": 0.535 }, { "x": 0.7898, "y": 0.535 }, { "x": 0.7301, "y": 0.535 }, { "x": 0.6707, "y": 0.535 }, { "x": 0.6149, "y": 0.535 },
    // Down towards Blue (31-36)
    { "x": 0.557, "y": 0.5905 }, { "x": 0.557, "y": 0.6452 }, { "x": 0.557, "y": 0.6999 }, { "x": 0.557, "y": 0.7546 }, { "x": 0.557, "y": 0.8063 }, { "x": 0.557, "y": 0.859 },
    // Bottom Turn (37-38)
    { "x": 0.557, "y": 0.9099 }, { "x": 0.4974, "y": 0.9130 },
    // Up from Blue (39-44) - FIXED: Reduced from 7 to 6 items to align board count
    { "x": 0.439, "y": 0.9130 }, { "x": 0.439, "y": 0.8583 }, { "x": 0.439, "y": 0.8063 }, { "x": 0.439, "y": 0.7546 }, { "x": 0.439, "y": 0.7001 }, { "x": 0.439, "y": 0.6449 }, 
    // Left towards Red (45-50)
    { "x": 0.3822, "y": 0.534 }, { "x": 0.3245, "y": 0.534 }, { "x": 0.2666, "y": 0.534 }, { "x": 0.2086, "y": 0.534 }, { "x": 0.1491, "y": 0.534 }, { "x": 0.0873, "y": 0.534 },
    // Final Tile before Red Home (51)
    { "x": 0.067, "y": 0.475 }
];

// =========================================================
// 2. YELLOW RAW BOARD (Aligned to 52 items)
// =========================================================
const YELLOW_RAW_BOARD = [
    // --- PART 1: Starts at Yellow Start (Red Index 26) ---
    { "x": 0.8484, "y": 0.535 }, { "x": 0.7898, "y": 0.535 }, { "x": 0.7301, "y": 0.535 }, { "x": 0.6707, "y": 0.535 }, { "x": 0.6149, "y": 0.535 }, 
    { "x": 0.557, "y": 0.5905 }, { "x": 0.557, "y": 0.6452 }, { "x": 0.557, "y": 0.6999 }, { "x": 0.557, "y": 0.7546 }, { "x": 0.557, "y": 0.8063 }, { "x": 0.557, "y": 0.859 }, 
    { "x": 0.557, "y": 0.9099 }, { "x": 0.4974, "y": 0.9130 }, 
    // Corrected Up Blue Section (6 items)
    { "x": 0.439, "y": 0.9130 }, { "x": 0.439, "y": 0.8583 }, { "x": 0.439, "y": 0.8063 }, { "x": 0.439, "y": 0.7546 }, { "x": 0.439, "y": 0.7001 }, { "x": 0.439, "y": 0.6449 }, 
    { "x": 0.3822, "y": 0.534 }, { "x": 0.3245, "y": 0.534 }, { "x": 0.2666, "y": 0.534 }, { "x": 0.2086, "y": 0.534 }, { "x": 0.1491, "y": 0.534 }, { "x": 0.0873, "y": 0.534 }, 
    { "x": 0.067, "y": 0.475 }, {"x": 0.067, "y": 0.420},

    // --- PART 2: Wraps to Red Start ---
    { "x": 0.1505, "y": 0.420 }, { "x": 0.2106, "y": 0.420 }, { "x": 0.2674, "y": 0.420 }, { "x": 0.3255, "y": 0.420 }, { "x": 0.3813, "y": 0.420 }, 
    { "x": 0.440, "y": 0.3616 }, { "x": 0.440, "y": 0.3082 }, { "x": 0.440, "y": 0.2518 }, { "x": 0.440, "y": 0.1956 }, { "x": 0.440, "y": 0.1412 }, { "x": 0.440, "y": 0.0854 }, 
    { "x": 0.4991, "y": 0.0869 }, { "x": 0.5570, "y": 0.0853 }, 
    { "x": 0.5570, "y": 0.1389 }, { "x": 0.5570, "y": 0.1969 }, { "x": 0.5570, "y": 0.2521 }, { "x": 0.5570, "y": 0.3079 }, { "x": 0.5570, "y": 0.364 }, 
    { "x": 0.6149, "y": 0.421 }, { "x": 0.6707, "y": 0.421 }, { "x": 0.7299, "y": 0.421 }, { "x": 0.789, "y": 0.421 }, { "x": 0.848, "y": 0.421 }, { "x": 0.9099, "y": 0.421 }, 
   
];

// =========================================================
// 3. GREEN RAW BOARD (Aligned to 52 items)
// =========================================================
const GREEN_RAW_BOARD = [
    { "x": 0.5570, "y": 0.1389 }, { "x": 0.5570, "y": 0.1969 }, { "x": 0.5570, "y": 0.2521 }, { "x": 0.5570, "y": 0.3079 }, { "x": 0.5570, "y": 0.364 },
    { "x": 0.6149, "y": 0.421 }, { "x": 0.6707, "y": 0.421 }, { "x": 0.7299, "y": 0.421 }, { "x": 0.789, "y": 0.421 }, { "x": 0.848, "y": 0.421 }, { "x": 0.9099, "y": 0.421 },
    { "x": 0.9099, "y": 0.4770 }, { "x": 0.9099, "y": 0.5348 },
    { "x": 0.8484, "y": 0.535 }, { "x": 0.7898, "y": 0.535 }, { "x": 0.7301, "y": 0.535 }, { "x": 0.6707, "y": 0.535 }, { "x": 0.6149, "y": 0.535 },
    { "x": 0.557, "y": 0.5905 }, { "x": 0.557, "y": 0.6452 }, { "x": 0.557, "y": 0.6999 }, { "x": 0.557, "y": 0.7546 }, { "x": 0.557, "y": 0.8063 }, { "x": 0.557, "y": 0.859 },
    { "x": 0.557, "y": 0.9099 }, { "x": 0.4974, "y": 0.9130 },
    // Corrected Up Blue Section (6 items)
    { "x": 0.439, "y": 0.9130 }, { "x": 0.439, "y": 0.8583 }, { "x": 0.439, "y": 0.8063 }, { "x": 0.439, "y": 0.7546 }, { "x": 0.439, "y": 0.7001 }, { "x": 0.439, "y": 0.6449 },
    { "x": 0.3822, "y": 0.534 }, { "x": 0.3245, "y": 0.534 }, { "x": 0.2666, "y": 0.534 }, { "x": 0.2086, "y": 0.534 }, { "x": 0.1491, "y": 0.534 }, { "x": 0.0873, "y": 0.534 },
    { "x": 0.067, "y": 0.475 },
    { "x": 0.1505, "y": 0.420 }, { "x": 0.2106, "y": 0.420 }, { "x": 0.2674, "y": 0.420 }, { "x": 0.3255, "y": 0.420 }, { "x": 0.3813, "y": 0.420 },
    { "x": 0.440, "y": 0.3616 }, { "x": 0.440, "y": 0.3082 }, { "x": 0.440, "y": 0.2518 }, { "x": 0.440, "y": 0.1956 }, { "x": 0.440, "y": 0.1412 }, { "x": 0.440, "y": 0.0854 },
    { "x": 0.4991, "y": 0.0869 }, { "x": 0.5570, "y": 0.0853 }
];

// =========================================================
// 4. BLUE RAW BOARD (Aligned to 52 items)
// =========================================================
const BLUE_RAW_BOARD = [
    // Corrected Up Blue Section (6 items)
    { "x": 0.439, "y": 0.9130 }, { "x": 0.439, "y": 0.8583 }, { "x": 0.439, "y": 0.8063 }, { "x": 0.439, "y": 0.7546 }, { "x": 0.439, "y": 0.7001 }, { "x": 0.439, "y": 0.6449 },
    { "x": 0.3822, "y": 0.534 }, { "x": 0.3245, "y": 0.534 }, { "x": 0.2666, "y": 0.534 }, { "x": 0.2086, "y": 0.534 }, { "x": 0.1491, "y": 0.534 }, { "x": 0.0873, "y": 0.534 },
    { "x": 0.067, "y": 0.475 },
    { "x": 0.1505, "y": 0.420 }, { "x": 0.2106, "y": 0.420 }, { "x": 0.2674, "y": 0.420 }, { "x": 0.3255, "y": 0.420 }, { "x": 0.3813, "y": 0.420 },
    { "x": 0.440, "y": 0.3616 }, { "x": 0.440, "y": 0.3082 }, { "x": 0.440, "y": 0.2518 }, { "x": 0.440, "y": 0.1956 }, { "x": 0.440, "y": 0.1412 }, { "x": 0.440, "y": 0.0854 },
    { "x": 0.4991, "y": 0.0869 }, { "x": 0.5570, "y": 0.0853 },
    { "x": 0.5570, "y": 0.1389 }, { "x": 0.5570, "y": 0.1969 }, { "x": 0.5570, "y": 0.2521 }, { "x": 0.5570, "y": 0.3079 }, { "x": 0.5570, "y": 0.364 },
    { "x": 0.6149, "y": 0.421 }, { "x": 0.6707, "y": 0.421 }, { "x": 0.7299, "y": 0.421 }, { "x": 0.789, "y": 0.421 }, { "x": 0.848, "y": 0.421 }, { "x": 0.9099, "y": 0.421 },
    { "x": 0.9099, "y": 0.4770 }, { "x": 0.9099, "y": 0.5348 },
    { "x": 0.8484, "y": 0.535 }, { "x": 0.7898, "y": 0.535 }, { "x": 0.7301, "y": 0.535 }, { "x": 0.6707, "y": 0.535 }, { "x": 0.6149, "y": 0.535 },
    { "x": 0.557, "y": 0.5905 }, { "x": 0.557, "y": 0.6452 }, { "x": 0.557, "y": 0.6999 }, { "x": 0.557, "y": 0.7546 }, { "x": 0.557, "y": 0.8063 }, { "x": 0.557, "y": 0.859 },
    { "x": 0.557, "y": 0.9099 }, { "x": 0.4974, "y": 0.9130 }
];

// --- COMBINED PATHS (Board + Victory) ---
const RED_FULL_PATH = [...RED_RAW_BOARD, ...VICTORY_RED];
const YELLOW_FULL_PATH = [...YELLOW_RAW_BOARD, ...VICTORY_YELLOW];
const GREEN_FULL_PATH = [...GREEN_RAW_BOARD, ...VICTORY_GREEN];
const BLUE_FULL_PATH = [...BLUE_RAW_BOARD, ...VICTORY_BLUE];

export const LudoBoardData = {
    yards: {
        red: [{ x: 0.18, y: 0.18 }, { x: 0.25, y: 0.18 }, { x: 0.18, y: 0.25 }, { x: 0.25, y: 0.25 }],
        green: [{ x: 0.75, y: 0.18 }, { x: 0.82, y: 0.18 }, { x: 0.75, y: 0.25 }, { x: 0.82, y: 0.25 }],
        yellow: [{ x: 0.75, y: 0.75 }, { x: 0.82, y: 0.75 }, { x: 0.75, y: 0.82 }, { x: 0.82, y: 0.82 }],
        blue: [{ x: 0.18, y: 0.75 }, { x: 0.25, y: 0.75 }, { x: 0.18, y: 0.82 }, { x: 0.25, y: 0.82 }],
    },
    homeBase: { x: 0.500, y: 0.500 },
    
    getPathForColor: (color: string) => {
        switch (color) {
            case 'red': return RED_FULL_PATH;
            case 'yellow': return YELLOW_FULL_PATH;
            case 'green': return GREEN_FULL_PATH;
            case 'blue': return BLUE_FULL_PATH;
            default: return RED_FULL_PATH;
        }
    }
};